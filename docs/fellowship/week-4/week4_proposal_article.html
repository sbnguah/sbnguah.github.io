<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr.&nbsp;Samuel Blay Nguah">
<meta name="dcterms.date" content="2025-08-23">
<meta name="description" content="From Curiosity to Protocol: Anatomy of a Good Research Proposal">

<title>Week 4</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-cb1ee970987b209eb749107ed30f9c25.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/mylogo.jpg" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../talks.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-trainees-corner" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Trainees’ Corner</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-trainees-corner">    
        <li>
    <a class="dropdown-item" href="../../students.html">
 <span class="dropdown-text">Undergraduate</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../membership.html">
 <span class="dropdown-text">Membership</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../fellowship.html">
 <span class="dropdown-text">Fellowship</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../stats2024.html">
 <span class="dropdown-text">Advanced Stats, 2024</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/sbnguah/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://scholar.google.com/citations?user=gbehSqQAAAAJ&amp;hl=en"> <i class="bi bi-google" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/NguahSamue66067/"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/samuel-blay-nguah-4423a410/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#recap" id="toc-recap" class="nav-link active" data-scroll-target="#recap">Recap…</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#the-purpose-of-a-proposal" id="toc-the-purpose-of-a-proposal" class="nav-link" data-scroll-target="#the-purpose-of-a-proposal">The Purpose of a Proposal</a></li>
  <li><a href="#anatomy-of-a-proposal-gcps-vs-wacp" id="toc-anatomy-of-a-proposal-gcps-vs-wacp" class="nav-link" data-scroll-target="#anatomy-of-a-proposal-gcps-vs-wacp">Anatomy of a Proposal – GCPS vs WACP</a></li>
  <li><a href="#breaking-down-key-sections" id="toc-breaking-down-key-sections" class="nav-link" data-scroll-target="#breaking-down-key-sections">Breaking Down Key Sections</a>
  <ul class="collapse">
  <li><a href="#title" id="toc-title" class="nav-link" data-scroll-target="#title">Title</a></li>
  <li><a href="#introduction-rationale" id="toc-introduction-rationale" class="nav-link" data-scroll-target="#introduction-rationale">Introduction &amp; Rationale</a></li>
  <li><a href="#objectives-research-questions" id="toc-objectives-research-questions" class="nav-link" data-scroll-target="#objectives-research-questions">Objectives &amp; Research Questions</a></li>
  <li><a href="#literature-review" id="toc-literature-review" class="nav-link" data-scroll-target="#literature-review">Literature Review</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a></li>
  <li><a href="#ethics" id="toc-ethics" class="nav-link" data-scroll-target="#ethics">Ethics</a></li>
  <li><a href="#relevance" id="toc-relevance" class="nav-link" data-scroll-target="#relevance">Relevance</a></li>
  <li><a href="#budget-timeline-and-logistics" id="toc-budget-timeline-and-logistics" class="nav-link" data-scroll-target="#budget-timeline-and-logistics">Budget, Timeline, and Logistics</a></li>
  </ul></li>
  <li><a href="#common-pitfalls-to-avoid" id="toc-common-pitfalls-to-avoid" class="nav-link" data-scroll-target="#common-pitfalls-to-avoid">Common Pitfalls to Avoid</a></li>
  <li><a href="#example-in-practice" id="toc-example-in-practice" class="nav-link" data-scroll-target="#example-in-practice">Example in Practice</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#take-home-message" id="toc-take-home-message" class="nav-link" data-scroll-target="#take-home-message">Take-Home Message</a></li>
  <li><a href="#next-week-on-paediatric-research-insights" id="toc-next-week-on-paediatric-research-insights" class="nav-link" data-scroll-target="#next-week-on-paediatric-research-insights">Next Week on Paediatric Research Insights…</a>
  <ul class="collapse">
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 4</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Research</div>
    <div class="quarto-category">Proposal</div>
  </div>
  </div>

<div>
  <div class="description">
    <strong>From Curiosity to Protocol: Anatomy of a Good Research Proposal</strong>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Dr.&nbsp;Samuel Blay Nguah </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 23, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><strong><em>“He who does not know one thing knows another.”</em></strong></p>
<section id="recap" class="level2">
<h2 class="anchored" data-anchor-id="recap">Recap…</h2>
<p>Last week, we discovered that a strong research question is like a stool: PICOT gives it the five legs it needs to stand. Today, we’ll learn how to weave that stool into a proposal sturdy enough to carry examiners.</p>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Every researcher has that “aha!” moment. It could be a puzzling observation on the ward, a nagging pattern in the outpatient clinic, or a burning question whispered during mortality meetings. But in academia, and especially in <strong>WACP and GCPS fellowship training</strong>, ideas alone are not currency. An idea without a proposal is like a recipe without ingredients: impressive-sounding, but you’ll never get fed.</p>
<p>A <strong>research proposal</strong> is your way of showing examiners, supervisors, and colleagues that you can transform curiosity into credible science. It is not simply “a hurdle before Part II.” It serves as your training ground for grant applications, collaborative projects, and the broader research world. If you can write a good fellowship proposal, you’re well on your way to writing protocols for WHO, UNICEF, or your Ministry of Health. And let’s be honest: it’s also your ticket to surviving rounds of corrections from…</p>
</section>
<section id="the-purpose-of-a-proposal" class="level2">
<h2 class="anchored" data-anchor-id="the-purpose-of-a-proposal">The Purpose of a Proposal</h2>
<p>Think of your proposal as a <strong>map, contract, and sales pitch rolled into one</strong>.</p>
<ul>
<li>As a <strong>map</strong>, it guides your steps from idea to data collection to final write-up.</li>
<li>As a <strong>contract</strong>, it sets boundaries: no “mission creep,” no reinventing the wheel halfway.</li>
<li>As a <strong>sales pitch</strong>, it convinces examiners and supervisors that your study is feasible, ethical, and essential.</li>
</ul>
<p>Without a proposal, you’re like a surgeon walking into the theatre without instruments; enthusiastic, yes, but dangerously unprepared.</p>
<p>Reviewers, whether in Accra, Abuja, or Freetown, are looking for three main things (Hulley et al., 2013; PMID: 24071097):<br>
1. <strong>Clarity</strong> — Do you know what you’re doing?<br>
2. <strong>Feasibility</strong> — Can you realistically complete it as a resident with limited time and resources?<br>
3. <strong>Relevance</strong> — Will the findings matter for children in West Africa?</p>
</section>
<section id="anatomy-of-a-proposal-gcps-vs-wacp" class="level2">
<h2 class="anchored" data-anchor-id="anatomy-of-a-proposal-gcps-vs-wacp">Anatomy of a Proposal – GCPS vs WACP</h2>
<p>Here’s where it gets interesting. Both Colleges want the same essential elements: a strong rationale, clear objectives, a robust methodology, and ethics. But the way they dress the bride is slightly different.</p>
<ul>
<li><strong>GCPS</strong> is detailed and process-oriented. They want:
<ol type="1">
<li>Title page</li>
<li>Abstract (500 words)</li>
<li>Table of contents</li>
<li>Introduction &amp; rationale</li>
<li>Aims/objectives</li>
<li>Literature review (1500 words)</li>
<li>Materials and methods</li>
<li>Data management &amp; analysis</li>
<li>Ethical/legal considerations</li>
<li>Logistics, timeline, budget</li>
<li>References</li>
<li>Appendices</li>
</ol></li>
<li><strong>WACP</strong>, on the other hand, is concise and examiner-focused. They want:
<ol type="1">
<li>Title page with detailed candidate/supervisor info</li>
<li>Introduction (≤300 words)</li>
<li>Literature review (≤1500 words)</li>
<li>Study design &amp; methodology (≤1000 words)</li>
<li>Relevance (≤200 words)</li>
<li>References</li>
<li>Ethical approval</li>
<li>Verification page (with signatures)</li>
<li>Page for official use</li>
</ol></li>
</ul>
<p>If GCPS is like a buffet, with every dish laid out, WACP is like a finely plated gourmet meal: smaller portions, but highly scrutinised.</p>
</section>
<section id="breaking-down-key-sections" class="level2">
<h2 class="anchored" data-anchor-id="breaking-down-key-sections">Breaking Down Key Sections</h2>
<section id="title" class="level3">
<h3 class="anchored" data-anchor-id="title">Title</h3>
<p>Should be <strong>short, specific, and informative</strong>. Avoid: <em>“A Study of Malaria in Children.”</em> Instead: <em>“Prevalence and Risk Factors of Severe Malaria among Under-Five Children in Tamale Teaching Hospital.”</em></p>
</section>
<section id="introduction-rationale" class="level3">
<h3 class="anchored" data-anchor-id="introduction-rationale">Introduction &amp; Rationale</h3>
<p>This is your chance to show why your question matters. Set the stage with local data, link to global literature, and highlight the gap. WACP allows 300 words; GCPS gives you more room, but don’t waste it with unnecessary storytelling.</p>
</section>
<section id="objectives-research-questions" class="level3">
<h3 class="anchored" data-anchor-id="objectives-research-questions">Objectives &amp; Research Questions</h3>
<p>These must flow logically from your rationale. Examiners are allergic to vague objectives. Write SMART (Specific, Measurable, Achievable, Relevant, Time-bound).</p>
<p>Bad: <em>“To study anaemia in children.”</em><br>
Good: <em>“To determine the prevalence and severity of anaemia among under-five children admitted at Cape Coast Teaching Hospital between Jan and Dec 2025.”</em></p>
</section>
<section id="literature-review" class="level3">
<h3 class="anchored" data-anchor-id="literature-review">Literature Review</h3>
<p>This section is both your <strong>credibility test</strong> and your <strong>GPS</strong>. A well-done review shows you understand what has been studied, where gaps remain, and how your project adds value. Both Colleges insist on African literature. Use recent published sources but also cite local theses and regional studies (Wong et al., 2021; PMID: 33486548).</p>
</section>
<section id="methods" class="level3">
<h3 class="anchored" data-anchor-id="methods">Methods</h3>
<p>This is the beating heart of your proposal. Define:<br>
- Study design (cross-sectional, cohort, case-control, clinical trial)<br>
- Population, inclusion/exclusion criteria<br>
- Sampling strategy<br>
- Sample size (with justification; examiners love formulas!)<br>
- Data collection tools<br>
- Data management and analysis plan</p>
<p>A good rule: if someone else reads your methods, they should be able to repeat your study without calling you at midnight.</p>
</section>
<section id="ethics" class="level3">
<h3 class="anchored" data-anchor-id="ethics">Ethics</h3>
<p>Both Colleges want assurance that you will not traumatise children, breach confidentiality, or overburden parents. Always name the ethics committee you applied to. Mention informed consent/assent, confidentiality, and data protection.</p>
</section>
<section id="relevance" class="level3">
<h3 class="anchored" data-anchor-id="relevance">Relevance</h3>
<p>WACP caps this at 200 words. Don’t just say <em>“It will help children.”</em> Be specific: <em>“Findings will guide policy on asthma management in Ghana and provide baseline data for future multicentre studies.”</em></p>
</section>
<section id="budget-timeline-and-logistics" class="level3">
<h3 class="anchored" data-anchor-id="budget-timeline-and-logistics">Budget, Timeline, and Logistics</h3>
<p>Only GCPS explicitly requires these, but don’t ignore them for WACP. A Gantt chart is your best friend. Supervisors love to see that you’ve planned how to balance clinics, night calls, and fieldwork.</p>
</section>
</section>
<section id="common-pitfalls-to-avoid" class="level2">
<h2 class="anchored" data-anchor-id="common-pitfalls-to-avoid">Common Pitfalls to Avoid</h2>
<ul>
<li><strong>Overambition</strong>: “I will follow 10,000 children for 5 years.” My friend, you’ll finish residency with white hair.</li>
<li><strong>Vague methods</strong>: “Data will be analysed.” How? With SPSS? STATA? Excel?</li>
<li><strong>Cut-and-paste literature review</strong>: Examiners can spot plagiarism faster than children smell fried plantain.</li>
<li><strong>Ignoring ethics</strong>: Nothing irritates examiners more.</li>
</ul>
</section>
<section id="example-in-practice" class="level2">
<h2 class="anchored" data-anchor-id="example-in-practice">Example in Practice</h2>
<p>Research question: <em>What is the prevalence of overweight and obesity among school-aged children in Accra?</em></p>
<p>Proposal structure:<br>
- <strong>Title</strong>: Prevalence and Risk Factors of Overweight and Obesity among Primary School Children in Accra, Ghana.<br>
- <strong>Introduction</strong>: Childhood obesity is rising globally and in Africa (PMID: 36738719). Data from Ghana is limited.<br>
- <strong>Objectives</strong>: To determine prevalence, identify associated factors, and compare urban vs peri-urban schools.<br>
- <strong>Literature Review</strong>: Summarise Ghanaian studies and SSA prevalence rates.<br>
- <strong>Methods</strong>: Cross-sectional study, cluster sampling of schools, anthropometric measures, WHO BMI z-scores, logistic regression.<br>
- <strong>Ethics</strong>: Parental consent, child assent, data anonymisation.<br>
- <strong>Relevance</strong>: Findings will inform school-based health interventions.<br>
- <strong>Budget/Timeline</strong>: Weighing scales, transport, data entry clerk, 9 months total.</p>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>A proposal is more than paperwork. It is your <strong>research promise</strong> to your supervisors, your College, and the children whose lives your findings may improve. Whether GCPS or WACP, examiners want to see <strong>clarity, feasibility, ethics, and relevance.</strong></p>
</section>
<section id="take-home-message" class="level2">
<h2 class="anchored" data-anchor-id="take-home-message">Take-Home Message</h2>
<p>A strong proposal is a blend of curiosity, structure, and discipline. Ideas excite; proposals convince. And in fellowship training, only the latter will get you across the finish line.</p>
</section>
<section id="next-week-on-paediatric-research-insights" class="level2">
<h2 class="anchored" data-anchor-id="next-week-on-paediatric-research-insights">Next Week on Paediatric Research Insights…</h2>
<p>Now that we know the anatomy of a good proposal, next week we zoom into its beating heart: <em>“Writing the Introduction of the Proposal.”</em></p>
<p>So polish your drafts, keep your supervisors caffeinated, and remember, a proposal is like cooking jollof. Everyone swears theirs is the best, but only the one with the right ingredients, steps, and timing avoids burning the pot. <strong>See you next week!</strong> 🚶🚶🚶</p>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ol type="1">
<li>Hulley SB, Cummings SR, Browner WS, et al.&nbsp;Designing Clinical Research. 4th ed.&nbsp;Lippincott Williams &amp; Wilkins; 2013. PMID: 24071097.<br>
</li>
<li>Wong CH, Wong SF, Poon JT, et al.&nbsp;How to write a research proposal. Int J Surg. 2021 Feb;85:41-46. PMID: 33486548.<br>
</li>
<li>Manyanga T, et al.&nbsp;Prevalence of overweight and obesity among school-age children in sub-Saharan Africa. BMC Obes. 2014;1:5. PMID: 36738719.</li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>